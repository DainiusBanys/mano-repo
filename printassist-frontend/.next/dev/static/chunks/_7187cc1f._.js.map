{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/mano-repo/printassist-frontend/components/ProtectedRoute.tsx"],"sourcesContent":["// components/ProtectedRoute.tsx\r\n\r\n'use client';\r\n\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ReactNode, useEffect } from 'react';\r\n\r\ninterface ProtectedRouteProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\r\n    const { isAuthenticated, token } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // This runs once on mount and whenever isAuthenticated or token changes\r\n        if (typeof window !== 'undefined' && !isAuthenticated) {\r\n            // Check localStorage as a fallback, then redirect\r\n            const storedToken = localStorage.getItem('token');\r\n            if (!storedToken) {\r\n                // User is NOT logged in. Send them to the login page.\r\n                router.replace('/login');\r\n            }\r\n        }\r\n    }, [isAuthenticated, router, token]);\r\n\r\n    // If not authenticated, we display nothing while redirecting to avoid flickering.\r\n    if (!isAuthenticated) {\r\n        return <div className=\"min-h-screen flex items-center justify-center\">Loading authentication...</div>;\r\n    }\r\n\r\n    // If authenticated, render the children (the actual dashboard content)\r\n    return <>{children}</>;\r\n};"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;AAIhC;AACA;AACA;;;AAJA;;;;AAUO,MAAM,iBAAgD,CAAC,EAAE,QAAQ,EAAE;;IACtE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,IAAA,qIAAO;IAC1C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACN,wEAAwE;YACxE,IAAI,+CAAkB,eAAe,CAAC,iBAAiB;gBACnD,kDAAkD;gBAClD,MAAM,cAAc,aAAa,OAAO,CAAC;gBACzC,IAAI,CAAC,aAAa;oBACd,sDAAsD;oBACtD,OAAO,OAAO,CAAC;gBACnB;YACJ;QACJ;mCAAG;QAAC;QAAiB;QAAQ;KAAM;IAEnC,kFAAkF;IAClF,IAAI,CAAC,iBAAiB;QAClB,qBAAO,6LAAC;YAAI,WAAU;sBAAgD;;;;;;IAC1E;IAEA,uEAAuE;IACvE,qBAAO;kBAAG;;AACd;GAvBa;;QAC0B,qIAAO;QAC3B,kJAAS;;;KAFf"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/mano-repo/printassist-frontend/app/dashboard/page.tsx"],"sourcesContent":["// app/dashboard/page.tsx (UPDATED)\r\n\r\n'use client';\r\n\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { ProtectedRoute } from '@/components/ProtectedRoute'; // <--- NEW IMPORT\r\n\r\n// The core component containing the dashboard content\r\nconst DashboardContent = () => {\r\n    const { user, logout } = useAuth();\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-100 p-8\">\r\n            <h1 className=\"text-3xl font-bold mb-6\">Welcome to the Dashboard, {user?.email}!</h1>\r\n            <p className=\"mb-4\">Your current subscription status is:\r\n                <span className={`font-semibold ${user?.isSubscribed ? 'text-green-600' : 'text-yellow-600'}`}>\r\n                    {user?.isSubscribed ? ' Active Subscriber' : ' Trialing / Canceled'}\r\n                </span>\r\n            </p>\r\n            <p className=\"mb-6\">This is where the magic will happen!</p>\r\n\r\n            <button\r\n                onClick={logout}\r\n                className=\"py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\r\n            >\r\n                Log Out\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// The page component uses the ProtectedRoute wrapper\r\nexport default function DashboardPage() {\r\n    return (\r\n        <ProtectedRoute>\r\n            <DashboardContent />\r\n        </ProtectedRoute>\r\n    );\r\n}"],"names":[],"mappings":"AAAA,mCAAmC;;;;;;AAInC;AACA,qOAA8D,kBAAkB;;;AAHhF;;;AAKA,sDAAsD;AACtD,MAAM,mBAAmB;;IACrB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,qIAAO;IAEhC,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;;oBAA0B;oBAA2B,MAAM;oBAAM;;;;;;;0BAC/E,6LAAC;gBAAE,WAAU;;oBAAO;kCAChB,6LAAC;wBAAK,WAAW,CAAC,cAAc,EAAE,MAAM,eAAe,mBAAmB,mBAAmB;kCACxF,MAAM,eAAe,uBAAuB;;;;;;;;;;;;0BAGrD,6LAAC;gBAAE,WAAU;0BAAO;;;;;;0BAEpB,6LAAC;gBACG,SAAS;gBACT,WAAU;0BACb;;;;;;;;;;;;AAKb;GArBM;;QACuB,qIAAO;;;KAD9B;AAyBS,SAAS;IACpB,qBACI,6LAAC,kJAAc;kBACX,cAAA,6LAAC;;;;;;;;;;AAGb;MANwB"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/mano-repo/printassist-frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}